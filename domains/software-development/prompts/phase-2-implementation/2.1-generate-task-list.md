# Prompt: Generate Task List from Tech Spec

**Persona:** Project Manager (uses Solutions Architect knowledge)
**Phase:** 2 - Implementation
**Purpose:** Break down a tech spec into granular, sequential tasks

---

## When to Use This Prompt

✅ **Use when:** You have an approved tech spec and are ready to start implementation
❌ **Don't use when:** You don't have a tech spec yet, or the task is trivial (single file change)

---

## The Prompt Template

```markdown
You are a Project Manager working with a development team. Take the attached technical specification and break it down into a granular, step-by-step task list for the developer to implement.

**Rules:**
1. Review the entire `[FEATURE_NAME]-tech-spec.md` file thoroughly
2. Each task must be:
   - A single, small, verifiable change
   - Independent (or clearly state dependencies)
   - Specific (include file names and what to do)
   - Testable (developer knows when it's done)
3. Tasks must be in the correct **logical order** of implementation:
   - Database changes first
   - Then backend services/API
   - Then frontend (if applicable)
   - Then tests
4. Reference specific sections of the tech spec for each task
5. If a task depends on another, note: "Depends on: Task #X"

**Output Format:**
- Markdown file with numbered tasks
- Each task should have:
  - Task number
  - Clear description
  - File(s) to create or modify
  - Reference to tech spec section
  - (Optional) Estimated complexity: [Simple / Medium / Complex]

**File to Save:**
- `docs/[FEATURE_NAME]-tasks.md`

---

**Files to Attach:**
- `[FEATURE_NAME]-tech-spec.md`
- `CONSTITUTION.md` (for context on standards)
```

---

## Interactive Mode (Recommended)

For better results, use interactive mode. Add this to your prompt:

**"Use interactive mode: Present parent tasks first, wait for my 'Go' confirmation, then generate sub-tasks."**

### How It Works:

1. AI generates high-level parent tasks (5-7 phases)
2. AI says: "I've generated X parent tasks. Ready for sub-tasks? Reply 'Go'."
3. You review and reply "Go"
4. AI generates detailed sub-tasks for each parent

### Why Use It:

- **Validate approach early** - Review high-level phases before details
- **Catch missing pieces** - Easier to spot gaps in 7 parent tasks than 40 sub-tasks
- **Stay oriented** - Always know which phase you're in
- **Prevent overwhelm** - Digest the plan in stages

### Example Flow:

**AI generates:**
```markdown
Parent tasks:
- [ ] 1. Set up database schema
- [ ] 2. Create backend services
- [ ] 3. Build API endpoints
- [ ] 4. Add tests

Ready for sub-tasks? Reply "Go".
```

**You reply:** "Go"

**AI generates:**
```markdown
### 1. Set up database schema
- [ ] 1.1 Create password_reset_tokens table
- [ ] 1.2 Add indexes
- [ ] 1.3 Run migration

### 2. Create backend services
- [ ] 2.1 Create TokenGenerator utility
- [ ] 2.2 Create PasswordResetService...
```

---

## Task Tracking Format

Always use checkbox format:
- `- [ ]` for incomplete tasks
- `- [x]` for completed tasks

**Instruct AI:** "Mark each sub-task complete immediately after finishing it."

### Task Completion Protocol:

After completing each sub-task:
1. Mark it `[x]` in the task list
2. Update the task list file
3. Ask: "Sub-task X.Y complete. Ready for X.Y+1?"
4. Wait for approval before proceeding

When all sub-tasks under a parent are complete:
1. Run tests
2. Commit changes
3. Mark parent task `[x]` complete

---

## Quick Start Guide

### Step 1: Prepare
- [ ] Have approved tech spec (`[feature-name]-tech-spec.md`)
- [ ] Have `CONSTITUTION.md`

### Step 2: Fill Template Variables
- Replace `[FEATURE_NAME]` → e.g., "password-reset", "csv-export"

### Step 3: Invoke AI
Paste the prompt with tech spec attached.

**(Optional)** Add: "Use interactive mode."

### Step 4: Review Task List

Check:
- [ ] Tasks are in logical order
- [ ] Each task is small (< 1 hour ideally)
- [ ] Dependencies are clear
- [ ] File paths are specific
- [ ] You understand each task

### Step 5: Adjust if Needed

**If tasks are too large:**
```
Break task #5 into smaller sub-tasks
```

**If order is wrong:**
```
Move task #8 before task #3 (database should come first)
```

### Step 6: Save and Start

Once approved:
1. Save to `docs/[feature-name]-tasks.md`
2. Start with Task #1
3. Use [2.2-iterative-implementation.md](./2.2-iterative-implementation.md) for each task

---

## Task Structure Example

```markdown
### Task 5: Implement createResetToken method

**Description:** Implement password reset request logic

**Files to MODIFY:**
- `src/services/password-reset.service.ts`

**What to do:**
- Look up user by email
- Check rate limit (max 3 per hour)
- Generate and hash token
- Save to database
- Queue email (background task)
- Add error handling
- Add method JSDoc

**Reference:** Tech Spec §4, §6
**Complexity:** Complex
**Depends on:** Task #3, Task #4
```

---

## Template Variables Reference

| Variable | Filled By | Example |
|----------|-----------|---------|
| `[FEATURE_NAME]` | Human at use-time | "password-reset", "csv-export" |

---

## Tips for Better Task Lists

✅ **DO:**
- Keep tasks small (< 1 hour each)
- Order tasks logically (dependencies first)
- Be specific about files
- Include verification steps
- Note complexity
- Reference tech spec sections

❌ **DON'T:**
- Create huge tasks ("implement entire feature")
- Skip dependencies
- Be vague ("fix the API")
- Forget testing tasks
- Ignore error handling

---

## Task Complexity Guide

- **Simple:** < 30 minutes, single file, no dependencies
- **Medium:** 30min-1hr, multiple files or moderate logic
- **Complex:** 1-2 hours, complex logic, multiple integrations

---

## Related Resources

- [Detailed task list examples](../../examples/task-list-examples.md)
- [AI Dev Tasks - Task Management](https://github.com/snarktank/ai-dev-tasks)
- Previous: [Tech Spec](../phase-1-planning/1.2-architect-tech-spec.md)
- Next: [Iterative Implementation](./2.2-iterative-implementation.md)
